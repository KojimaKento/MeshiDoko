# MeshiDoko 要件定義書

作成日: 2026年2月3日

---

## 1. アプリ概要

条件に合ったご飯屋さんをインターネット上の情報から探し、提案してくれるアプリ

---

## 2. 目的・解決したい課題

### 解決したい課題
- 友達とご飯に行く際に、すぐに条件に合ったお店を見つけて提案したい
- 条件に合うお店を複数探すのに時間がかかるという問題を解決する

### 期待される効果
- お店選びにかかる時間を短縮
- 外出先でもスムーズにお店を決定できる
- 複数の条件に合致したお店を効率的に見つけられる

---

## 3. ターゲットユーザー

### プライマリーユーザー
- ご飯屋さんを探したい人全般

### 初期ターゲット
- 自分や友達、身近な人
- 20代〜30代の若年層を想定

### ユーザー像
- 外食の機会が多い
- スマートフォンを日常的に使用
- 友達や同僚と食事に行く機会が多い

---

## 4. 利用シーン

### 主な利用シーン
1. **友達とのランチ**
   - 平日昼休みに同僚とランチを決める
   - 週末に友達とカジュアルなランチ

2. **友達との夜ご飯**
   - 仕事終わりにディナーのお店を探す
   - 週末の夜、友達と食事に行く

3. **外出先での利用**
   - 出かけている最中にリアルタイムでお店を決める
   - その場ですぐに検索して選択

### 利用環境
- 主にスマートフォンでの利用
- 外出先でのモバイル通信環境
- 移動中や待ち合わせ中などの隙間時間

---

## 5. MVP（最初に作る最小限の機能）

### 5.1 主要機能

#### 1. お店検索機能
**概要**: 条件を入力してお店を検索できる機能

**検索条件**:
- 料理のジャンル（麺類、ご飯もの、料理の種類など）
  - 和食
  - 中華
  - イタリアン
  - フレンチ
  - 麺類
  - ご飯もの
  - 焼肉
  - 居酒屋
  - など

- 場所（地名やエリア）
  - フリーテキスト入力
  - 例: 渋谷、新宿、東京駅

- 値段（予算）
  - 〜1,000円
  - 1,000円〜2,000円
  - 2,000円〜3,000円
  - 3,000円〜5,000円
  - 5,000円〜

- 営業しているか
  - 現在営業中のみ表示するオプション

**機能要件**:
- 各条件は任意入力（必須ではない）
- 複数条件の組み合わせ検索が可能
- 条件に合致するお店を自動的に抽出

---

#### 2. 検索結果一覧表示
**概要**: 条件に合うお店を5〜10件一覧で表示

**表示形式**:
- カード形式のリスト表示
- スクロール可能

**表示件数**:
- 5〜10件程度

**0件時の対応**:
- 検索結果が0件の場合、適切なメッセージを表示
- 条件を緩めることを提案

---

#### 3. お店詳細表示機能
**概要**: 一覧から選んだお店の詳細情報を表示

**表示内容**:
- お店の基本情報
  - お店の名前
  - 複数の写真（ギャラリー形式）
  - 料理のジャンル

- 所在地情報
  - 住所
  - 地図（Google Mapsの埋め込みまたはリンク）

- 営業情報
  - 営業時間（曜日別）
  - 定休日
  - 現在の営業状況

- 価格情報
  - ランチ予算
  - ディナー予算

- 評価情報
  - 口コミの評価（星の数、評価点など）
  - レビュー数

- SNS・外部リンク
  - SNSリンク（Instagram、X、Facebookなど、お店が利用している場合）
  - 元の情報源へのリンク（食べログ、ホットペッパー）

**UI要件**:
- 見やすく整理されたレイアウト
- 画像は拡大表示可能
- 地図はタップでマップアプリを起動

---

#### 4. お気に入り登録機能
**概要**: 気に入ったお店を保存して後から見返せる機能

**機能詳細**:
- お店詳細画面または一覧画面から「お気に入り」ボタンをタップして登録
- お気に入り一覧画面で保存したお店を表示
- お気に入りから削除も可能

**データ保存**:
- ローカルストレージまたは簡易的なデータベースに保存
- アプリを閉じても保存されたデータが残る

**UI要件**:
- お気に入りの状態が視覚的に分かりやすい（ハートアイコンなど）
- ワンタップで登録・削除が可能

---

#### 5. 予約サイト連携
**概要**: 予約サイトへのリンクを提供

**機能詳細**:
- お店詳細画面に「予約する」ボタンを配置
- タップすると食べログやホットペッパーの予約ページへ遷移

**連携先**:
- 食べログ
- ホットペッパー
- その他、お店が掲載されている予約サイト

**実装要件**:
- 外部ブラウザまたはアプリ内ブラウザで開く
- 予約可能なお店のみボタンを表示
- 予約不可の場合は、詳細情報の閲覧のみ

---

### 5.2 検索条件詳細（MVP）

| 検索条件 | 入力方式 | 必須/任意 | 備考 |
|---------|---------|---------|------|
| 料理のジャンル | セレクトボックス | 任意 | 麺類、ご飯もの、和食、洋食、中華など |
| 場所 | テキスト入力 | 任意 | 地名やエリアで検索 |
| 値段 | セレクトボックス | 任意 | 予算範囲を選択 |
| 営業しているか | チェックボックス | 任意 | 現在営業中のみ表示 |

---

### 5.3 お店の表示情報詳細（MVP）

#### 一覧画面での表示項目
- お店の名前
- 代表写真（1枚）
- 料理のジャンル
- 住所
- 予算（ランチ/ディナー）
- 口コミの評価（星の数）
- 営業状態（営業中/準備中/閉店）

#### 詳細画面での表示項目
- お店の名前
- 複数の写真（ギャラリー）
- 住所
- 地図
- 営業時間（曜日別）
- 予算（ランチ/ディナー）
- 口コミの評価
- レビュー数
- SNS（お店が利用していれば）
  - Instagram
  - X (Twitter)
  - Facebook
- 外部サイトへのリンク
  - 食べログ
  - ホットペッパー

---

### 5.4 情報源

#### 利用する外部API・サービス
- **食べログ**
  - お店の基本情報
  - 口コミ・評価
  - 写真
  - 営業時間

- **ホットペッパー**
  - お店の基本情報
  - 予算情報
  - 予約機能
  - クーポン情報

#### データ取得方法
- 各サービスの公式APIを利用
- リアルタイムでデータを取得
- キャッシュを活用してパフォーマンスを向上

---

## 6. 将来追加したい機能（Phase 2以降）

### 6.1 機能拡張

#### Phase 2候補

1. **友達と情報を共有する機能**
   - LINEやメールでお店情報を共有
   - URLでお店詳細を共有
   - SNSへの投稿機能

2. **個室の有無での検索**
   - 検索条件に個室フィルターを追加
   - 個室あり/なしで絞り込み
   - 人数に応じた個室の提案

#### Phase 3候補

1. **現在地から近いお店を検索**
   - GPS情報を利用した位置ベース検索
   - 距離順でのソート
   - 「現在地から○○m」の表示

2. **地図アプリでの経路検索**
   - お店までのルート検索機能
   - Google Maps、Apple Mapsとの連携
   - 徒歩/車/公共交通機関でのルート表示

3. **複数人での投票機能**
   - グループでお店候補に投票して決める
   - リアルタイムで投票結果を共有
   - 最多票のお店を自動選出

4. **検索履歴**
   - 過去の検索条件を保存・再利用
   - よく検索する条件をプリセットとして保存
   - 検索履歴からのクイック検索

### 6.2 検索条件の追加

- **個室の有無** (Phase 2)
  - 個室あり/なしで絞り込み

- **禁煙/喫煙** (Phase 3)
  - 全席禁煙、喫煙可、分煙など

- **駐車場** (Phase 3)
  - 駐車場あり/なしで絞り込み

- **予約可否** (Phase 3)
  - 予約可能なお店のみ表示

- **クレジットカード対応** (Phase 3)
  - カード払い可能なお店のみ表示

---

## 7. 使い方のイメージ

### 利用フロー

#### パターン1: 個人で検索
1. アプリを起動
2. 検索条件を入力（ジャンル、場所、予算など）
3. 検索ボタンをタップ
4. 検索結果一覧を確認
5. 気になるお店をタップして詳細を表示
6. お店を決定したら予約サイトへ遷移

#### パターン2: 友達と見せ合う
1. 自分が検索して、気になるお店を友達に見せる
2. 友達も一緒にアプリで検索して、それぞれが見つけたお店を見せ合う
3. 複数の候補から話し合って決定
4. 決まったお店の詳細を確認
5. 必要に応じて予約

#### パターン3: お気に入りから選ぶ
1. お気に入り一覧を開く
2. 過去に保存したお店を確認
3. 行きたいお店を選択
4. 詳細を確認して予約

---

## 8. 成功指標（KPI）

### Phase 1（MVP）の成功基準

#### 機能面
- ✅ ユーザーが条件を入力してお店を検索できる
- ✅ 検索結果が5〜10件表示される
- ✅ お店の詳細情報が全て表示される
- ✅ お気に入りにお店を登録・削除できる
- ✅ お気に入り一覧からお店を確認できる
- ✅ 予約サイトへのリンクが正常に動作する

#### ユーザー体験
- ✅ お店選びにかかる時間が従来の半分以下になる
- ✅ 外出先でストレスなく検索できる
- ✅ 初見のユーザーでも説明なしで使える

#### 技術面
- ✅ 検索結果の表示が3秒以内
- ✅ 外部APIのエラーハンドリングが適切
- ✅ モバイルでのレスポンシブ対応が完璧
- ✅ お気に入りデータが永続化される

---

## 9. 非機能要件

### パフォーマンス
- 検索結果の表示速度: 3秒以内
- ページ遷移: 1秒以内
- 画像の読み込み: 2秒以内

### セキュリティ
- APIキーの適切な管理（環境変数で管理）
- 個人情報は収集しない（初期段階）
- HTTPS通信の使用

### ユーザビリティ
- 直感的で分かりやすいUI
- スマートフォンでの快適な操作
- アクセシビリティへの配慮

### 互換性
- iOS / Android 対応
- 主要ブラウザ対応（Chrome, Safari, Edge）

---

## 10. 制約条件

### 技術的制約
- 外部API（食べログ、ホットペッパー）の利用規約を遵守
- APIのリクエスト制限を考慮
- データの永続化は最小限（初期段階）

### ビジネス的制約
- 初期開発は低予算で実施
- MVPを早期にリリースし、フィードバックを収集
- 段階的に機能を追加

### リソース的制約
- 開発者: 1名（初期）
- 開発期間: Phase 1は2〜3ヶ月を想定
- 予算: 最小限

---

## 11. リスクと対策

### 想定されるリスク

1. **外部APIの制限**
   - リスク: APIのリクエスト制限により検索できない
   - 対策: キャッシュの活用、リクエストの最適化

2. **データの正確性**
   - リスク: 営業時間や営業状態が古い
   - 対策: データの更新頻度を明示、ユーザーに確認を促す

3. **競合サービスとの差別化**
   - リスク: 既存の検索サービスとの違いが不明確
   - 対策: シンプルさと使いやすさに特化、友達との共有機能を強化

---

## 12. 開発スケジュール（想定）

### Phase 1: MVP開発

#### Month 1: 環境構築・基本実装
- 開発環境のセットアップ
- 技術スタックの決定
- 外部API調査・アカウント取得
- 基本画面のUI実装

#### Month 2: 機能実装
- 検索機能の実装
- 外部API連携
- お気に入り機能の実装
- データベース構築

#### Month 3: テスト・調整
- 動作確認
- UI/UX改善
- バグ修正
- 初回リリース

### Phase 2以降
- ユーザーフィードバックの収集
- 機能拡張の優先順位決定
- 段階的な機能追加

---

## 13. 付録

### 用語集

- **MVP**: Minimum Viable Product（実用最小限の製品）
- **API**: Application Programming Interface
- **UI**: User Interface
- **UX**: User Experience
- **レスポンシブデザイン**: 画面サイズに応じて最適化されたデザイン

### 参考資料

- 食べログAPI ドキュメント
- ホットペッパーグルメサーチAPI ドキュメント
- Google Maps API ドキュメント

---

## 改版履歴

| 版 | 日付 | 改版内容 | 作成者 |
|----|------|---------|--------|
| 1.2 | 2026-02-04 | 技術スタック確定（Ruby on Rails採用）、Rails版モック作成 | - |
| 1.1 | 2026-02-04 | デザインモック作成完了（mockディレクトリ追加） | - |
| 1.0 | 2026-02-03 | 初版作成 | - |

---

**本要件定義書は、MeshiDokoアプリ開発の基礎となる文書です。**
**開発の進行に伴い、適宜更新していきます。**
